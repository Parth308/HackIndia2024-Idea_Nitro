<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blockchain Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="output.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.js"></script>
</head>
<body ng-controller="BlockController as vm">
<div class="flex flex-col min-h-[100dvh] bg-black text-white">
  <header class="px-4 lg:px-6 h-14 flex items-center justify-between">
    <a class="flex items-center justify-center text-white animate-fadeIn" href="#">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="h-6 w-6"
      >
        <path d="M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727"></path>
      </svg>
      <span class="sr-only">Blockchain Demo</span>
    </a>
    <nav class="flex gap-4 sm:gap-6">
      <a class="text-sm font-medium hover:underline underline-offset-4 text-white animate-fadeIn" href="#">
        Hashing
      </a>
      <a href="#" class="text-sm font-medium hover:underline underline-offset-4 text-white animate-fadeIn">
        Blockchain
      </a>
      <a class="text-sm font-medium hover:underline underline-offset-4 text-white animate-fadeIn" href="#">
        Tokens
      </a>
      <a href="#" class="text-sm font-medium hover:underline underline-offset-4 text-white animate-fadeIn">
        Coins
      </a>
    </nav>
  </header>
  <main class="flex-1">
    <section class="w-full py-12 md:py-24 lg:py-32 bg-black text-white">
      <div class="container px-4 md:px-6 grid gap-6 lg:grid-cols-2 lg:gap-12 ">
        <div class="space-y-4 animate-fadeIn">
          <h1 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl xl:text-6xl animate-fadeIn">
            Blockchain Explained
          </h1>
          <div class="grid gap-4 bg-muted/20 p-6 rounded-lg animate-fadeIn">
            <div class="space-y-4">
              <p class="text-muted-foreground animate-fadeIn">
                A blockchain is a decentralized, distributed digital ledger that records transactions across many
                computers in a network. Each block in the chain contains a number of transactions, and every time a
                new transaction occurs, a record of that transaction is added to every participant's ledger.
              </p>
            </div>
            <div class="grid grid-cols-3 gap-4 animate-fadeIn">
              <div class="space-y-2">
                <label
                  class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 animate-fadeIn"
                  for="block-number"
                >
                  Block Number
                </label>
                <input
                  class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 animate-fadeIn text-black"
                  id="block-number"
                  placeholder="Block number"
                  type="number"
                  ng-model="vm.block.number"
                />
              </div>
              <div class="space-y-2">
                <label
                  class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 animate-fadeIn"
                  for="nonce"
                >
                  Nonce
                </label>
                <input
                  class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 animate-fadeIn text-black"
                  id="nonce"
                  placeholder="Block nonce"
                  type="number"
                  ng-model="vm.block.nonce"
                />
              </div>
              <div class="space-y-2">
                <label
                  class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 animate-fadeIn"
                  for="data"
                >
                  Data
                </label>
                <input
                  class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 animate-fadeIn text-black"
                  id="data"
                  placeholder="Block data"
                  type="text"
                  ng-model="vm.block.data"
                />
              </div>
            </div>
            <div class="grid gap-2 animate-fadeIn">
              <label
                class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 animate-fadeIn"
                for="prev-hash"
              >
                Previous Hash
              </label>
              <input
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 animate-fadeIn text-black"
                id="prev-hash"
                placeholder="Previous block hash"
                readonly=""
                type="text"
                ng-model="vm.block.prev"
              />
            </div>
            <div class="grid gap-2 animate-fadeIn">
              <label
                class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 animate-fadeIn"
                for="hash"
              >
                Hash
              </label>
              <input
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 animate-fadeIn text-black"
                id="hash"
                placeholder="Block hash"
                readonly=""
                type="text"
                ng-model="vm.block.hash"
              />
            </div>
            <div class="grid gap-2 animate-fadeIn">
              <button
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded animate-fadeIn"
                ng-click="vm.mineBlock()"
              >
                Mine Block
              </button>
              <p class="text-sm text-muted-foreground animate-fadeIn" ng-if="vm.miningResult">
                {{ vm.miningResult }}
              </p>
            </div>
          </div>
        </div>
        <div class="bg-muted/20 p-6 rounded-lg flex items-center justify-center animate-fadeIn border border-white">
          <div class="text-center space-y-4 animate-fadeIn">
            <img
              src="/placeholder.svg"
              alt="Block"
              width="600"
              height="600"
              class="animate-fadeIn"
              style="aspect-ratio: 300 / 300; object-fit: cover;"
            />
          </div>
        </div>
      </div>
    </section>
  </main>
</div>
<script>
    angular.module('app', [])
        .controller('BlockController', function($scope) {
            var vm = this;

            vm.isDropdownOpen = false;
            vm.difficulties = [3, 4, 5];
            vm.difficulty = 3;

            vm.block = {
                number: 1,
                nonce: 0,
                data: '',
                prev: '0000000000000000000000000000000000000000000000000000000000000000',
                hash: ''
            };

            vm.setDifficulty = function(difficulty) {
                vm.difficulty = difficulty;
                vm.isDropdownOpen = false;
            };

            vm.toggleDropdown = function() {
                vm.isDropdownOpen = !vm.isDropdownOpen;
            };

            vm.mineBlock = function() {
                var startTime = performance.now();
                var target = Array(vm.difficulty + 1).join("0");
                vm.block.hash = CryptoJS.SHA256([vm.block.number, vm.block.nonce, vm.block.data, vm.block.prev].join('')).toString();

                while (vm.block.hash.substring(0, vm.difficulty) !== target) {
                    vm.block.nonce++;
                    vm.block.hash = CryptoJS.SHA256([vm.block.number, vm.block.nonce, vm.block.data, vm.block.prev].join('')).toString();
                }

                var endTime = performance.now();
                var timeTaken = (endTime - startTime) / 1000;
                var speed = Math.floor(vm.block.nonce / timeTaken);
                vm.miningResult = `Took ${timeTaken.toFixed(2)}s, Speed: ${speed} hashes/s`;
                $scope.$apply();
            };
        });
</script>
</body>
</html>
